<!doctype html>
<html lang="en">
<%- include('partials/head') %>
<body>
  <%- include('partials/topbar') %>

  <main class="container">
    <section class="card">
      <div class="page-head row-between">
        <div>
          <h1>Edit Monitor: <%= monitor.name %></h1>
          <p class="meta">Update monitor configuration without losing history.</p>
        </div>
        <div class="action-row">
          <a class="button-secondary" href="/admin">Back</a>
        </div>
      </div>
      <form method="post" action="/admin/<%= monitor.slug %>/edit" class="form">
        <label>Name<input required name="name" maxlength="120" value="<%= monitor.name %>"></label>
        <label>Slug<input required name="slug" pattern="[a-z0-9-]{1,100}" value="<%= monitor.slug %>"></label>
        <label>Type
          <select name="monitor_type" required>
            <option value="http" <%= monitor.monitor_type === 'http' ? 'selected' : '' %>>HTTP(S)</option>
            <option value="tcp" <%= monitor.monitor_type === 'tcp' ? 'selected' : '' %>>TCP Port</option>
            <option value="ping" <%= monitor.monitor_type === 'ping' ? 'selected' : '' %>>Ping</option>
            <option value="minecraft" <%= monitor.monitor_type === 'minecraft' ? 'selected' : '' %>>Minecraft</option>
          </select>
        </label>
        <label>Target<input required name="url" value="<%= monitor.url %>"></label>
        <label><input type="checkbox" name="hide_url" <%= monitor.hide_url ? 'checked' : '' %>> Hide target URL on public status views</label>
        <label><input type="checkbox" name="lock_enabled" <%= monitor.lock_enabled ? 'checked' : '' %>> Enable password lock for public status page</label>
        <label>Lock password <input type="password" name="lock_password" minlength="4" placeholder="Leave blank to keep current password"></label>
        <label>Interval (seconds)<input required type="number" name="interval_seconds" min="10" max="3600" value="<%= monitor.intervalSeconds %>"></label>
        <div class="action-row">
          <button type="submit">Save Changes</button>
          <a class="button-secondary" href="/admin">Cancel</a>
        </div>
      </form>
    </section>
  </main>
  <%- include('partials/footer') %>
</body>
</html>



